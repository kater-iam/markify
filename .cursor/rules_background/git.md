# Git操作の背景と詳細説明
このファイルは [git.mdc](../rules/git.mdc) のルールの背景と詳細を説明するものです。

1. GitFlow + PR
  - ブランチングに世の中である程度使われているルールを採用したい。
  - ただし機能単位をマージで区切るのではなく、GitHubのPR単位としたい。

2. [ブランチ命名規則](../rules/git.mdc#1)
   - YYYYMMをdateコマンドで取得する理由
     - 手動入力による誤りを防ぐため
     - 一貫性のある命名を保証するため
   - 命名規則の例：
     ```bash
     # 正しい例
     feature/$(date '+%Y%m')/yousan/add-user-auth
     # 誤った例
     feature/202402/yousan/add-user-auth  # 手動で日付入力
     ```

3. [コミットメッセージのフォーマット](../rules/git.mdc#2)
   - 英語での記載理由
     - 国際的なチーム対応のため
     - GitHubの標準的な慣習に従うため
   - データベース更新時の特別な形式
     - マイグレーションの追跡を容易にするため
     - 例：`- update database: add role column to profiles table`

4. [Gitコマンドの実行方法](../rules/git.mdc#3)
   - `| cat`を付与する理由
     - インタラクティブモードを回避
     - CI/CD環境での実行を保証
   - 主な対象コマンド
     - `git log | cat`
     - `git diff | cat`
     - `git show | cat`

# 補足情報

## 一般的な問題と解決策
- プロンプトの停止問題
  - 現象：コマンド実行時にプロンプトが停止し、処理が進まなくなる
  - 原因：`&&`で連結された複数のコマンドの実行時に、途中で停止する場合がある
  - 対策：コマンドを個別に実行し、実行前に現在の状態を確認する
- パスの解決問題
  - 現象：ファイルパスが見つからないエラー
  - 原因：カレントディレクトリが意図しないディレクトリになっている
  - 対策：`pwd`で確認し、適切なディレクトリに移動する
- Git操作の問題
  - 現象：ファイルの追加やコミットが失敗する
  - 原因：カレントディレクトリの問題や、パスの指定ミス
  - 対策：`git status`で状態確認し、プロジェクトルートから操作を行う

## 実行時の注意点
- コマンド実行前のチェックリスト
  - カレントディレクトリの確認
  - Gitブランチの確認
  - 必要なファイルの存在確認
- エラー発生時の対応手順
  - エラーメッセージの詳細確認
  - 環境変数やコンテナの状態確認
  - 必要に応じて個別のコマンドとして実行
- データ操作時の確認事項
  - バックアップの作成
  - テストデータの準備
  - 実行後の検証クエリの用意
  - ロールバック手順の確認 